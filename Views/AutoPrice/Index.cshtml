@model IEnumerable<Homepage.Models.BANGGIA>

@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>Index</h2>

<p>
    @Html.ActionLink("Create New", "Create")
</p>
<p>
    @Html.ActionLink("Update price auto", "AutoUpdate")
</p>
<table class="table">
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.ID_BANGGIA)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.ID_SACH)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.SACH.TEN_SACH)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.NGAY_APDUNG)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.TANG_GIAM)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.GIATRI)
        </th>
        <th>Giá cũ</th>
        <th>Giá mới</th>
    </tr>

    @foreach (var item in Model)
    {
        <tr>
            <td>
                @Html.DisplayFor(modelItem => item.ID_BANGGIA)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.ID_SACH)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.SACH.TEN_SACH)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.NGAY_APDUNG)
            </td>
            @{
                if (item.TANG_GIAM == true)
                {
                    var showString = "Tăng";
                    <td>
                        @Html.DisplayFor(modelItem => showString)
                    </td>
                }
                else
                {
                    var showString = "Giảm";
                    <td>
                        @Html.DisplayFor(modelItem => showString)
                    </td>
                }
            }
            <td>
                @Html.DisplayFor(modelItem => item.GIATRI)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.SACH.GIA_BAN)
            </td>
            @{
                if (item.TANG_GIAM == true)
                {
                    var temp = item.SACH.GIA_BAN + item.GIATRI;
                    <td>
                        @Html.DisplayFor(modelItem => temp)
                    </td>
                }
                else
                {
                    var temp2 = item.SACH.GIA_BAN - item.GIATRI;
                    <td>
                        @Html.DisplayFor(modelItem => temp2)
                    </td>
                }
            }

            <td>
                @Html.ActionLink("Edit", "Edit", new { id = item.ID_BANGGIA }) |
                @Html.ActionLink("Delete", "Delete", new { id = item.ID_BANGGIA })
            </td>
        </tr>
    }

</table>
